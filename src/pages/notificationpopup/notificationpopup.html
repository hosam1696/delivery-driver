<ion-content padding>
  <!-- [exclude]="'button'" (clickOutside)="dismiss()" -->


  <section class="pop-content" >
    <ng-template [ngIf]="driverOrder">

      <div class="item company-title">
        <img [src]="fillImgSrc(driverOrder.order.items[0].image)" alt="">
        <p>
          طلب جديد من شركة
          {{driverOrder.order.company.name}}
        </p>
      </div>
      <div class="item  order-owner">
        <img [src]="fillImgSrc(driverOrder.order.user.logo)" alt="">
        <p>{{driverOrder.order.user.name}}</p>
      </div>
      <div class="body" text-center>
        <p>
          الدفع عند الاستلام
        </p>

        <button ion-button large outline round (click)="goToRequestPage(driverOrder, {fromPop: true})">
          تفاصيل الطلب
        </button>

      </div>
      <div class="actions">
        <div class="top">
          <button ion-button round (click)="onClick('accept')">
            التوصيل الان
          </button>
          <button ion-button round (click)="onClick('await')" [hidden]="userData.isRestaurantDelegate">
            التوصيل لاحقا
          </button>
          <button ion-button round outline color="danger" (click)="onClick('cancel')" *ngIf="userData.isRestaurantDelegate">
            رفض
          </button>
        </div>

        <div text-center [hidden]="userData.isRestaurantDelegate">
          <button ion-button round outline color="danger" (click)="onClick('cancel')">
            رفض
          </button>
        </div>
      </div>
      <p text-center *ngIf="!countIsOver">
        {{counter.getSeconds()<10?'0':''}}{{counter.getSeconds()}} : {{counter.getMinutes()<10?'0':''}}{{counter.getMinutes()}}
      </p>

    </ng-template>

    <ng-template [ngIf]="!driverOrder">
      <div class="loader">
        <ion-spinner></ion-spinner>
      </div>
    </ng-template>
  </section>

  <div class="fixed-btn">
    <button ion-button icon-only clear id="notifySound">
      <ion-icon name="volume"></ion-icon>
    </button>
  </div>
</ion-content>
